{"version":3,"file":"PopoverContentModal.cjs","sources":["../../src/Popover/PopoverContentModal.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport PopoverContentImpl, { type PopoverContentImplEmits, type PopoverContentImplProps } from './PopoverContentImpl.vue'\nimport { injectPopoverRootContext } from './PopoverRoot.vue'\nimport { useForwardExpose, useForwardPropsEmits, useHideOthers } from '@/shared'\nimport { useBodyScrollLock } from '@/shared/useBodyScrollLock'\n\nconst props = defineProps<PopoverContentImplProps>()\nconst emits = defineEmits<PopoverContentImplEmits>()\nconst rootContext = injectPopoverRootContext()\nconst isRightClickOutsideRef = ref(false)\n\nuseBodyScrollLock(true)\n\nconst forwarded = useForwardPropsEmits(props, emits)\n\nconst { forwardRef, currentElement } = useForwardExpose()\nuseHideOthers(currentElement)\n</script>\n\n<template>\n  <PopoverContentImpl\n    v-bind=\"forwarded\"\n    :ref=\"forwardRef\"\n    :trap-focus=\"rootContext.open.value\"\n    disable-outside-pointer-events\n    @close-auto-focus.prevent=\"\n      (event) => {\n        emits('closeAutoFocus', event);\n\n        if (!isRightClickOutsideRef) rootContext.triggerElement.value?.focus();\n      }\n    \"\n    @pointer-down-outside=\"\n      (event) => {\n        emits('pointerDownOutside', event);\n\n        const originalEvent = event.detail.originalEvent;\n        const ctrlLeftClick\n          = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n        const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\n        isRightClickOutsideRef = isRightClick;\n      }\n    \"\n    @focus-outside.prevent\n  >\n    <slot />\n  </PopoverContentImpl>\n</template>\n"],"names":["injectPopoverRootContext","ref","useBodyScrollLock","useForwardPropsEmits","useForwardExpose","useHideOthers"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAA,MAAM,KAAQ,GAAA,OAAA;AACd,IAAA,MAAM,KAAQ,GAAA,MAAA;AACd,IAAA,MAAM,cAAcA,4CAAyB,EAAA;AAC7C,IAAM,MAAA,sBAAA,GAAyBC,QAAI,KAAK,CAAA;AAExC,IAAAC,0CAAA,CAAkB,IAAI,CAAA;AAEtB,IAAM,MAAA,SAAA,GAAYC,gDAAqB,CAAA,KAAA,EAAO,KAAK,CAAA;AAEnD,IAAA,MAAM,EAAE,UAAA,EAAY,cAAe,EAAA,GAAIC,wCAAiB,EAAA;AACxD,IAAAC,kCAAA,CAAc,cAAc,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}