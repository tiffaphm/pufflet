{"version":3,"file":"DialogContentModal.js","sources":["../../src/Dialog/DialogContentModal.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { injectDialogRootContext } from './DialogRoot.vue'\nimport DialogContentImpl, { type DialogContentImplEmits, type DialogContentImplProps } from './DialogContentImpl.vue'\nimport { useEmitAsProps, useForwardExpose, useHideOthers } from '@/shared'\n\nconst props = defineProps<DialogContentImplProps>()\nconst emits = defineEmits<DialogContentImplEmits>()\n\nconst rootContext = injectDialogRootContext()\n\nconst emitsAsProps = useEmitAsProps(emits)\n\nconst { forwardRef, currentElement } = useForwardExpose()\nuseHideOthers(currentElement)\n</script>\n\n<template>\n  <DialogContentImpl\n    v-bind=\"{ ...props, ...emitsAsProps }\"\n    :ref=\"forwardRef\"\n    :trap-focus=\"rootContext.open.value\"\n    :disable-outside-pointer-events=\"true\"\n    @close-auto-focus=\"\n      (event) => {\n        if (!event.defaultPrevented) {\n          event.preventDefault();\n          rootContext.triggerElement.value?.focus();\n        }\n      }\n    \"\n    @pointer-down-outside=\"\n      (event) => {\n        const originalEvent = event.detail.originalEvent;\n        const ctrlLeftClick\n          = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n        const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\n        // If the event is a right-click, we shouldn't close because\n        // it is effectively as if we right-clicked the `Overlay`.\n        if (isRightClick) event.preventDefault();\n      }\n    \"\n    @focus-outside=\"\n      (event) => {\n        // When focus is trapped, a `focusout` event may still happen.\n        // We make sure we don't trigger our `onDismiss` in such case.\n        event.preventDefault();\n      }\n    \"\n  >\n    <slot />\n  </DialogContentImpl>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAKA,IAAA,MAAM,KAAQ,GAAA,OAAA;AACd,IAAA,MAAM,KAAQ,GAAA,MAAA;AAEd,IAAA,MAAM,cAAc,uBAAwB,EAAA;AAE5C,IAAM,MAAA,YAAA,GAAe,eAAe,KAAK,CAAA;AAEzC,IAAA,MAAM,EAAE,UAAA,EAAY,cAAe,EAAA,GAAI,gBAAiB,EAAA;AACxD,IAAA,aAAA,CAAc,cAAc,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}